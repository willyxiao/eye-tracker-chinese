<html ng-app="alsTrackerApp">
  <head>
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.4/angular.min.js"></script>
    <script src="chindict.js"></script>
    <script>
    var radicals = ["\u4e00", "\u4e28", "\u4e36", "\u4e3f", "\u4e59/\u4e5a", "\u4e85/\u4e86", "\u4e8c", "\u4ea0", "\u4eba/\u4ebb", "\u513f", "\u5165", "\u516b", "\u5182", "\u5196", "\u51ab", "\u51e0", "\u51f5", "\u5200/\u5202", "\u529b", "\u52f9", "\u5315", "\u531a", "\u5338", "\u5341", "\u535c", "\u5369", "\u5382", "\u53b6", "\u53c8", "\u8ba0", "\u53e3", "\u56d7", "\u571f", "\u58eb", "\u5902", "\u590a", "\u5915", "\u5927", "\u5973", "\u5b50/\u5b51", "\u5b80", "\u5bf8", "\u5c0f", "\u5c22", "\u5c38", "\u5c6e", "\u5c71", "\u5ddb/\u5ddd", "\u5de5", "\u5df1/\u5df2/\u5df3", "\u5dfe", "\u5e72", "\u5e7a/\u4e61", "\u5e7f", "\u5ef4", "\u5efe", "\u5f0b", "\u5f13", "\u5f50/\u5f51", "\u5f61", "\u5f73", "\u5fc3/\u5fc4", "\u624b/\u624c", "\u6c34/\u6c35/\u6c3a", "\u72ac/\u72ad", "\u8278/\u8279", "\u8fb5/\u8fb6", "\u9091/\u961d", "\u961c/\u961d", "\u7e9f", "\u95e8", "\u98de", "\u9963", "\u9a6c", "\u5fc3/\u5fc4", "\u6208", "\u6236/\u6237", "\u624b/\u624c", "\u652f", "\u6534/\u6535", "\u6587", "\u6597", "\u65a4", "\u65b9", "\u65e0", "\u65e5", "\u66f0", "\u6708", "\u6728", "\u6b20", "\u6b62", "\u6b79", "\u6bb3", "\u6bcb/\u6bcd", "\u6bd4", "\u6bdb", "\u6c0f", "\u6c14", "\u6c34/\u6c35/\u6c3a", "\u706b/\u706c", "\u722a/\u722b", "\u7236", "\u723b", "\u723f", "\u7247", "\u7259", "\u725b/\u725c", "\u72ac/\u72ad", "\u7389/\u738a/\u738b", "\u793a/\u793b", "\u7f51/\u7f52/\u7f53", "\u8001/\u8002", "\u8278/\u8279", "\u8fb5/\u8fb6", "\u89c1", "\u8d1d", "\u8f66", "\u97e6", "\u98ce", "\u6bcb/\u6bcd", "\u6c34/\u6c35/\u6c3a", "\u7384", "\u7389/\u738a/\u738b", "\u74dc", "\u74e6", "\u7518", "\u751f", "\u7528", "\u7530/\u7531/\u7532/\u7533", "\u758b", "\u7592", "\u7676", "\u767d", "\u76ae", "\u76bf", "\u76ee", "\u77db", "\u77e2", "\u77f3", "\u793a/\u793b", "\u79b8", "\u79be", "\u7a74", "\u7acb", "\u7f51/\u7f52/\u7f53", "\u8863/\u8864", "\u9485", "\u957f", "\u9e1f", "\u9f99", "\u7af9", "\u7c73", "\u7cf8/\u7cf9", "\u7f36", "\u7f51/\u7f52/\u7f53", "\u7f8a", "\u7fbd", "\u8001/\u8002", "\u800c", "\u8012", "\u8033", "\u807f", "\u8089/\u6708", "\u81e3", "\u81ea", "\u81f3", "\u81fc", "\u820c", "\u821b", "\u821f", "\u826e", "\u8272", "\u8278/\u8279", "\u864d", "\u866b", "\u8840", "\u884c", "\u8863/\u8864", "\u897e/\u897f/\u8980", "\u9875", "\u9f50", "\u898b", "\u89d2", "\u8a00/\u8a01", "\u8c37", "\u8c46", "\u8c55", "\u8c78", "\u8c9d", "\u8d64", "\u8d70", "\u8db3", "\u8eab", "\u8eca", "\u8f9b", "\u8fb0", "\u8fb5/\u8fb6", "\u9091/\u961d", "\u9149", "\u91c6", "\u91cc", "\u5364", "\u9ea6", "\u9f9f", "\u91d1/\u91d2", "\u9577", "\u9580", "\u961c/\u961d", "\u96b6", "\u96b9", "\u96e8", "\u9752", "\u975e", "\u9c7c", "\u9efe", "\u9f7f", "\u9762", "\u9769", "\u97cb", "\u97ed", "\u97f3", "\u9801", "\u98a8", "\u98db", "\u98df/\u98e0", "\u9996", "\u9999", "\u99ac", "\u9aa8", "\u9ad8", "\u9adf", "\u9b25", "\u9b2f", "\u9b32", "\u9b3c", "\u9b5a", "\u9ce5", "\u9e75", "\u9e7f", "\u9ea5", "\u9ebb", "\u9ec4", "\u9ec3", "\u9ecd", "\u9ed1", "\u9ef9", "\u9efd", "\u9f0e", "\u9f13", "\u9f20", "\u9f3b", "\u9f4a", "\u9f52", "\u9f8d", "\u9f9c", "\u9fa0"];
    </script>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.1/css/bootstrap.min.css">
  </head>
  <body>
    <style>
      #radicals {
        font-size: 90px;
      }
      
      .stream {
        font-size: 50px;
        background-color: yellow;
      }

      .back-btn {
        height: 200px;
        background-color: green;
        font-size: 50px;
      }

      .scroll-btn-up {
        height: 200px;
        background-color: red;
        font-size: 50px;
      }
      .scroll-btn-down {
        height: 200px;
        background-color: blue;
        font-size: 50px;
      }

      .scrollable-table {
        height: 75%;
        overflow: auto;
      }

    </style>
    <script>
      var alsTrackerApp = angular.module("alsTrackerApp", []);

      alsTrackerApp.controller("alsCtrl", function($scope){

        $scope.list = radicals;
        $scope.state = "radical";
        $scope.stream = [];

        function getWords(radical){
    			$scope.list = chindict[radical]
        }

        $scope.processClick = function(choice) {
          if ($scope.state == "radical") {
            getWords(choice);
            $scope.state = "word";
          }
          else {
            $scope.stream.push(choice);
            $scope.list = radicals;
            $scope.state = "radical";
          }

          scrollTo(scroll = 0);
        };

        $scope.backClick = function() {
          if ($scope.state == "word") {
            $scope.list = radicals;
            $scope.state = "radical";
            scrollTo(scroll = 0);
          }
        };

        function scrollTo(scrollLevel){
          console.log(scrollLevel);
          $(".scrollable-table").animate({
            scrollTop: scrollLevel
          });
        }

        function isHover(id){
          return $("#" + id + ":hover").length > 0;
        }

        scroll = 0;
        function scrollMouseOver() {
          SCROLL_AMOUNT = 200;
          // moves mouse up
          if (isHover("up")) {
            scroll = Math.max(scroll - SCROLL_AMOUNT, 0);
            scrollTo(scroll);
          }
          // moves mouse down
          if (isHover("down")) {
            scroll = scroll + SCROLL_AMOUNT;
            scrollTo(scroll);
          }
          setTimeout(scrollMouseOver, 500);
        }
        scrollMouseOver();
      });
    </script>
    <div ng-controller="alsCtrl">
      <div class="row">
        <div class="col-md-6">
          <div class="scrollable-table">
            <table id="radicals" class="table text-center table-hover">
              <tbody>
                <tr class='qrad' ng-repeat="choice in list track by $index">
                  <td ng-click="processClick(choice)">{{ choice }}</td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
        <div class="col-md-2">
        </div>
        <div class="col-md-4 text-center">
          <div class="row scroll-btn-up" id="up">
            Up
          </div>
          <div class="row scroll-btn-down" id="down">
            Down
          </div>
        </div>
      </div>
      <div class="row stream">
        <div class="col-md-8 text-center">
          <span ng-repeat="word in stream track by $index">
            {{ word }}
          </span>
        </div> 
        <div ng-click="backClick()" class="col-md-4 text-center back-btn">
          Back
        </div>
      </div>
    </div>
  </body>


</html>
